
objects = [];
status1 = "";


function setup() {
  canvas = createCanvas(380, 380);
  canvas.center();
  video = createCapture(VIDEO);
  video.size(380,380);
  video.hide();
}

function modelLoaded() {
  console.log("Model Loaded!")
  status1 = true;
}

function start()
{
  objectDetector = ml5.objectDetector('cocossd', modelLoaded);
  document.getElementById("status").innerHTML = "Status : Detecting Objects";
  object_name = document.getElementById("object_name").value;
}

function gotResult(error, results) {
  if (error) {
    console.log(error);
  }
  console.log(results);
  objects = results;
}

function draw() {
  image(video, 0, 0, 380, 380);
      if(status1 != "")
      {
        objectDetector.detect(video, gotResult);
        for (i = 0; i < objects.length; i++) {
          document.getElementById("status").innerHTML = "Status : Object Detected";
          
          fill("#FF0000");
          percent = floor(objects[i].confidence * 100);
          text(objects[i].label + " " + percent + "%", objects[i].x + 15, objects[i].y + 15);
          noFill();
          stroke("#FF0000");
          rect(objects[i].x, objects[i].y, objects[i].width, objects[i].height);

         
          if(objects[i].label == object_name)
          {
            video.stop();
            objectDetector.detect(gotResult);
            document.getElementById("object_status").innerHTML = object_name + " Found";
            synth = window.speechSynthesis;
            utterThis = new SpeechSynthesisUtterance(object_name + "Found");
            synth.speak(utterThis);
          }
          else
          {
            document.getElementById("object_status").innerHTML = object_name + " Not Found";
          }          
         }
      }
}
//1231002483181260220512182101068864836886483470661710100173202318631720316321231671331421628822031752102832642833132101329012101531010327202902642902643171220100314631202962122412642412101003218238316416311318101324126424124131513165315532403159322510012429226886483012320031281036022411310319622602270228023702410103191001016228023702410271010318815013010172370100241010318815013010172370241010319013010172280237024102710103197237010319823702360103198237010319923701031982370236010319000101723701031910010162370236010319200101222702280237023601031932410101423701031251402410280121401026424101014237010312414028002790278027102800279010254018241000101323702360103123140280027901013280010255018241000101323701031242790278010142800102620121013237023601031182520241121027324101002410236023501031182360141324101027224112103121241132710102732410001031202370236023502340102752410103119237023601027800103118237023601027924101031162370236023501028000103114228023702360102822410103115237010183270151027024101031152370101832701910266241010312532701810266241010312721201012327013102662410103121327012102760010312132701210276241010312132700102770010319501424101031223270131027101324101031253270010273241010319801210319924101031990010319924101031992410103199241010319900103199241010319900103199241010319900103199241010319900103199241010319900102871323510277241010287132371013238121027000102871321110131301014131310013217238122370236023502340233013010264241010288131510013141021013010121301012131310013121001315241023812236001510264001029113121022613010013121001312241023812241001510226121310161214102141215101624101028715142410259182410152151303144131001501301001312241023812241015001410210120101212121021101310160141014241021216241010120151201015001029000312100025002510001000021201003121010140010123239024116324001003141133243032370151210015024102381224100010211121300101201210212012102132190257032440100243025002510324502570100017101500102143179010161801024618010222312001012012101431200101831210212010025002510312101015013323701512241023812241000151410121213254120131014001014318103182010221219025603244010143245025601021201210214317901016180102441912310001912102202410101824101018312001014312001016001000132410012241001432370101201310140010123182031810101231810101331820102212190241024902470248121012241010213012102113182031810318303181031820101221001903100019021001024219123100019121021932390259010032450242032440324502420324401002590324001016324502410324401012324502410324401018012327801012327801018001018318203181010123182010123181010222219024118102263182031810318303181031820101221001903100019021001024319031000190102213239025918324001017323902591632400102103278010123278010218318201003181010133182010222219013210102253181031830318201014190310001901024421003100019010222323902591632400101932390259143240010211241141016318203181010031811210173182010143182010223219010191301022531820318303181010141903100019010311331820318101003181031820101831820102272190101913010226318201031223181010031810102372190101913010314931810100318201023721901019130103150318201023821901019130103189219010191301031892190101913010318921901019130103189219010191301031892190101913010319031442101031903134210105102133301393146527227213378679727080790136737084853269278310923031120102245120982271010210100100100100100100100100100100100100100100100100100512579131032342362161629123351258113101001001005125821310100100100511979227148880806932342643234264323426432342643234264323426410010010032342643234264323426432342643234264323426410010010032342643234264323426432342643234264323426410010010051198022714728077691001001001001001001001001003109230100100100100100100100100326927828419100100100100100100100511981227176966747880796910010010010010010010010010010010010010010010010010010028921510010010010010010010010051198222721178747974797284858671711001001001001001001001001001001001001001001001001001002412631001501322910010010010010051198322721474838079016679690168737066811001001001001001001001001001001001001001001001001001002912381001001001001001001001005119842271471808069100100100100100100100100100100100100100100100100100100100100100100100100100100100103402315505124631010175120960295175123100311114512008101012512440101005122121010135122381010051264710101451264910101351222510100512648101014512130101013512215101010124584368866810173200312810319914010217013102100132410012102402370102662410102710141021101324100010241237010160010250237010182410101401210259001015015102100132410013102392370101600102502370101824101014002410102170141022800101801310130121012013101801424100121024023701015012102502370101824101015241010213018102281301016014100015101301310190122410012102402370101401310250237010182410101524101021324100171022813014001410170143270131000131019002410001024000237001710250237010182410101524101021324101023513015001410000101601332701500327001021024101024223700171012241010142370102422370101824101015241010213001023515120010120024101016001003270191021024101024001223701016001013241014010122370102422370101824101015241010213241010235151210130131017003270191019001024100237000101500101224101012241010023701024123702360101824101015241010213001023515121014241010211212010032701310013032700101824101024100237010160121012140101322802370102372370236023502340101924101015241010213241010235151210140010173270010152410101432700101800102410023701016001012241010152280237010235237023601021200101524101021300102351512101424101017327001015241010173270010152410102150141022323700010215225022602270228023701022923702360235010213241010152410102132410102351512101400101832701210132410101613032700101500102150151021723702360235023402330232010220226022702280101223701022323712102152410101524101021001410235151210142410101832701410024101016013101424101021601510214228023702360102290023701022223702360237010215241000101424101501018014241010235001015001019327014241000101601210000102200151021214024102370102120010180121018227022802370236010219236010023701015237023602350234023302410002410021010190132410015102302410101524101021324100121014013102240141017141210024112237023601021200101801310192370102180010132370101223702360235023400216102110122410014102312410101500102132410012101301410226013101624113237023602350102130010210001019237010217012101322801002360235001310228002410015102300010152410102132410102360131014241022702280237023601012241010212001022023701012012102130121013014102310024100151023000101401210213241010237001018237010216001022023701013012102520024100151023014010151301021324101024623701014241010211001022023701025824100131023214024102700271010120010213241010237001018237010216001022023701025800102352410101513010213241010235241010227001022023601025824101023614010024100131021324101026300102792410102352410101201410213241010225012102360010279001023824101021624101022500102370010279241010235241014010000102162410102630010279241010235001012241010216241010263001027900102352410101200102162410102630010279241010235241010122410102162410102630010279001023524101012001021624101026300102650131021100102352410101224101021624101026300103115241010122410102162410102630010311500101200102162410102630010217022810216001025324101012241010216241010262013102180234101724100121025200101224101021624101026201510215013102210212101624101025424101012241010216241010263013102160141023001310152410102542410101224101021624101026300102190151023624101025424101012241010216241010263001022101410222014102640010122410102162410102630010223014102190142410102102410102532410101224101021624101026302141021101310223001026400101224101021624101026302151015017102242410102102410102532410101224101021624101027001310130131013018102242410101924101025424101012001021624101027702111022600101824112102542410101224101021624101027802101022624101026400101224101021624101028101510228001018001025524101012241010216241010283001023000102101312102520010122410102162410103114015101301210122411310250241014000241010216241000103112016101301310254001401002410102162410103116014101401210253241010122410102162410103118013102580010122410102162410103119013101524112102502410101224101021624101031790010122410102162410103179241010122410102162410103133019102370010122410102162410103132021010237241010122410102162410102152370103121015102370010122410102162410102970121023901310238241014010024101021624101021200101700103118012102380010122410102162410103127121810244001012241010216241010171300010246120102631213101501810233130001019001012001021624101017318401003184121022913010171301016001023412010228013100001021400101300102243184121003184121021000102162410101731840100318401023012122411710120010120010120010232001022000101800102153184121003184121022000101200101331840100318401021100102162410101631841210031841210247001012001021712151015001021300101631850100318501022431840100318401021931841210031841210031841410031841210227241010173184010031840102270131023901510143185010031850102183184121003184121014318412100318412102133184121003184121021931840100318412100318401012318401003184010228241010163184121003184121026600101300101531841210031841210218318401003184010163184010031840102153185010031850102193184121003184121003184141003184121021300130102120010173185010031850102550010170010031841210031841310031841210143184010031840102183184121003184121014318412100318412102373185010031851210031850101231850100318501021331850100318501021300102103184010031840102570010143184010031840100318401003184010143184121003184121021831850100318501016318501003185010215318501003185010243318412100318412101300100001021331850100318501003184010031840102363184010031841210031840102143185010031850101231841210031841310031841210143185010031850102313184010031840102353185010031851210031850101231850100318501021331840100318401022431840100318401022431840100318401019318401003184121003184010213318412100318412101231850100318501003184010031840102273185010031850101631850100318503184010031840102583184121003184121025031840100318401019318401003184121003184010214318401003184010163184121003184121014318501003185010231318401003184010259318501003185010251318401003184010228318412100318412101231850100318501003185010031850103187318501003185010229318401003184010279318501003185010293318501003185010219318401003184010316531850100318501022931840100318401031983184010510475330124442019227213378679727080790136737084851022710340229513512151101012512739101005121501010145116431010051258310101351235710101551236410100512155101010?